
/* Full viewport background */

.main-content {
    background: url("../img/backgroundcampanha.jpg") center / cover no-repeat;
    padding-top: 50px;
    padding-bottom: 50px;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%; /* Ensure full width */
}

/* --- HERO SECTION --- */
.hero-section {
    position: relative;
    width: 100vw;
    height: 95vh; /* adjust to make it smaller than video hero */
    overflow: hidden;
}


.hero-title {
    position: relative; /* so it stacks above the map */
    z-index: 2;
    margin: 20px 0;
    padding-left: 5%;
    color: #0d6efd;
}

/* Ensure 80px minimum specifically for desktop */
@media (min-width: 1200px) {
    .hero-title {
        font-size: 80px;
    }
}

.world-map-container {
    width: 100%;
    height: 100%;
    background: url("../img/mapa.jpg") no-repeat center center;
    background-size: cover;
    position: relative;
}

/* Map Markers */
.map-marker {
    position: absolute;
    width: 24px;
    height: 24px;
    cursor: pointer;
    transform: translate(-50%, -50%); /* Center on the coordinate */
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
}
    
/* The Pin Shape */
.marker-pin {
    width: 16px;
    height: 16px;
    background-color: #0d6efd;
    border: 2px solid white;
    border-radius: 50%;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    position: relative;
    z-index: 2;
    transition: transform 0.3s ease;
}

/* Pulsing Effect */
.marker-pulse {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 16px;
    height: 16px;
    background-color: rgba(13, 110, 253, 0.4);
    border-radius: 50%;
    animation: pulse 2s infinite;
    z-index: 1;
}

@keyframes pulse {
    0% { width: 16px; height: 16px; opacity: 1; }
    100% { width: 40px; height: 40px; opacity: 0; }
}

/* Text Label */
.marker-label {
    position: absolute;
    left: 24px;
    background: white;
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 700;
    color: #333;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    opacity: 0.8;
    white-space: nowrap;
    transition: opacity 0.3s;
    pointer-events: none;
}

/* Hover States */
.map-marker:hover .marker-pin {
    transform: scale(1.3);
    background-color: #0a58ca;
}

.map-marker:hover .marker-label {
    opacity: 1;
}

/* --- Card Styling --- */
.custom-card {
    background-color: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: row;
    transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
    margin-bottom: 2rem;
    position: relative;
}

/* Content Left Side */
.card-content {
    flex: 1;
    padding: 3rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-width: 300px; /* Prevent crushing on small screens */
}

.card-meta {
    margin-bottom: 1rem;
}

.card-title {
    font-weight: 700;
    font-size: 1.8rem;
    color: #333;
    margin-bottom: 0.5rem;
}

.card-subtitle {
    font-weight: 600;
    color: #666;
    font-size: 1rem;
    margin-bottom: 1.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.card-text {
    color: #555;
    line-height: 1.6;
    font-size: 0.95rem;
    flex-grow: 1; /* Pushes progress bar down */
    margin-bottom: 2rem;
}

/* Progress Bar */
.progress-container {
    width: 100%;
}
.progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: #777;
    margin-bottom: 5px;
}
.progress {
    height: 14px;
    border-radius: 7px;
    background-color: #e9ecef;
    width: 100%;
    overflow: hidden;
    position: relative;
}
.progress-bar {
    background-color: #0d6efd; /* Bootstrap primary blue */
    border-radius: 7px 0 0 7px;
    height: 100%;
    transition: width 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    min-width: 0;
    max-width: 100%;
    position: absolute;
    left: 0;
    top: 0;
}

/* Image Right Side */
.card-image {
    flex: 1;
    background-size: cover;
    background-position: center;
    min-height: 100%;
}

/* --- Specific Section 1 (Top) Styles --- */
.top-block {
    width: 70vw;
    height: 50vh;
}

/* --- Specific Section 2 (Bottom/Expandable) Styles (grid layout) --- */
.campaigns-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    width: 90vw;
    max-width: 1400px;
    margin: 0 auto;
}

.campaigns-grid .custom-card {
    width: 100%;
}

/* Small cards (from DB is_large = 0) - shown as grid items */
.small-block {
    height: 350px;
    cursor: pointer;
    display: flex;
    flex-direction: row;
    order: 2;
}

.small-block .card-content {
    padding: 2rem; /* Slightly smaller padding for small cards */
}

.small-block .card-image {
    /* Hidden by default in small state */
    flex: 0;
    width: 0;
    opacity: 0;
    transition: all 0.6s ease;
}

/* Expanded State Logic: when a small block is active it spans the whole row */
.small-block.active {
    grid-column: 1 / -1;
    height: 50vh;
    cursor: default;
    position: relative;
    z-index: 10;
    order: 1;
}

.small-block.active .card-image {
    flex: 1;
    width: auto;
    opacity: 1;
}

.small-block.active:hover {
    cursor: pointer;
}

/* Large cards (is_large = 1) always span full width */
.custom-card:not(.small-block) {
    grid-column: 1 / -1;
}

/* Loaded campaigns wrapper - uses display: contents so it doesn't break grid */
#loaded-campaigns {
    display: contents;
}

/* Mobile Responsiveness adjustments */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem; /* Resize for small screens */
        margin-left: 1rem;
    }
    
    .top-block {
        width: 90vw;
        height: auto;
        flex-direction: column;
    }
    .top-block .card-image {
        height: 250px;
        flex: none;
    }
    
    .expandable-container {
        flex-direction: column;
        align-items: center;
    }

    .small-block {
        width: 90vw;
        height: auto;
        min-height: 300px;
    }
    
    .small-block.active {
        width: 90vw;
        height: auto;
        flex-direction: column;
    }
    .small-block.active .card-image {
        height: 250px;
        flex: none;
    }
}

/* --- Footer Button --- */
.btn-see-more {
    margin-top: 3rem;
    padding: 12px 40px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 30px;
    background-color: white;
    color: #0d6efd;
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: transform 0.2s, box-shadow 0.2s;
    margin-bottom: 2rem;
}

.btn-see-more:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    background-color: #f8f9fa;
}

/* --- GOALS SECTION (Bottom) --- */
.goals-section {
    width: 100vw;
    background-color: white;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    padding: 4rem 0;
    min-height: auto;
}

.goals-section .container-fluid {
    display: flex;
    flex-direction: column;
    height: auto;
}

.goals-section .row {
    display: flex;
    flex-direction: row;
    align-items: center;
    height: auto;
}

/* Decorative Blue Bar */
.goals-decoration {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    height: 70vh;
    width: 60px;
    background-color: #0d6efd; /* Solid fallback */
    background: linear-gradient(180deg, #0d6efd 0%, #003366 100%);
    border-top-right-radius: 30px;
    border-bottom-right-radius: 30px;
    z-index: 5;
    box-shadow: 5px 0 15px rgba(0,0,0,0.1);
    display: block;
    pointer-events: none;
}

/* Updated Header Positioning */
.goals-header {
    position: relative;
    color: #0d6efd;
    font-weight: 800;
    font-size: clamp(40px, 5vw, 90px);
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: right;
    z-index: 20;
    margin: 0 4rem 3rem 0;
    padding-right: 2rem;
}

/* Ensure desktop gets 80px */
@media (min-width: 1200px) {
    .goals-header {
        font-size: 80px;
    }
}

.goals-left-col {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 0 4rem 0 7rem !important;
    position: relative;
    z-index: 10;
    flex: 1;
}

.goals-right-col {
    position: relative;
    padding: 0 4rem !important;
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.goals-title {
    font-size: 2.2rem;
    font-weight: 700;
    color: #000;
    margin-bottom: 1.5rem;
    line-height: 1.2;
}

.goal-description {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #444;
    margin-bottom: 3rem;
}

.goals-content-wrapper {
    max-width: 600px;
}

/* Square Image Wrapper */
.goal-image-wrapper {
    width: 80%; /* Smaller than container */
    max-width: 500px;
    aspect-ratio: 1 / 1; /* Forces square */
    position: relative;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    border-radius: 12px;
    overflow: hidden;
    margin-right: 5%; /* Aligned towards right */
}

#goal-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.4s ease-in-out;
}

/* Pagination Dots */
.goals-dots-container {
    display: flex;
    gap: 15px;
}

.goal-dot {
    width: 16px;
    height: 16px;
    background-color: #dee2e6;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
}

.goal-dot.active {
    background-color: #000;
    transform: scale(1.1);
}

.goal-dot:hover {
    background-color: #adb5bd;
}

/* Content Transitions */
.goal-text-container {
    transition: opacity 0.4s ease-in-out;
    opacity: 1;
}

.fade-out {
    opacity: 0;
}

/* Mobile Responsive Goals */
@media (max-width: 991px) {
    .goals-section {
        height: auto;
        min-height: auto;
        padding-bottom: 3rem;
        flex-direction: column;
    }

    /* Ensure flex row wraps to column */
    .goals-section .row {
        flex-direction: column;
    }
    
    /* Remove decoration on mobile */
    .goals-decoration {
        display: none !important;
    }

    /* On mobile, revert absolute positioning to flow */
    .goals-header {
        position: relative;
        top: auto;
        right: auto;
        text-align: center;
        margin-top: 3rem;
        margin-bottom: 1rem;
        font-size: 2rem;
        margin-right: 0;
        padding-right: 0;
    }

    .goals-left-col {
        /* Text occupies more width, remove huge left padding */
        padding: 2rem 1.5rem !important; 
        height: auto;
        width: 100%;
        text-align: center; /* Optional but cleaner without side bar */
    }
    
    .goals-right-col {
        height: auto;
        width: 100%;
        align-items: center !important; 
        justify-content: center;
        padding: 0 1.5rem 3rem !important;
    }
    
    /* Bigger image */
    .goal-image-wrapper {
        margin-right: 0;
        width: 100%;
        max-width: 500px; /* Allow it to be quite wide but not absurd on tablets */
        aspect-ratio: 16/10; /* Make it slightly more landscape to fit screen better? Or keep square? User said "bigger". Square is fine but takes lots of vertical space. User didn't specify ratio. Keeping roughly as is but wider. */
    }

    .goal-title {
        font-size: 1.8rem;
        text-align: center;
    }

    .goal-description {
        text-align: center;
    }
}

/* Copy of eventos hero styles to match eventos header */
.hero {
    overflow: hidden;
}

.hero {
    position: relative;
    height: 525px;
    background: #000 url("") center / cover no-repeat;
    margin-bottom: 20px;
}

.hero__video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: saturate(1.3);
}

.hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
        180deg,
        rgba(0, 0, 0, 0.35) 0%,
        rgba(0, 0, 0, 0.65) 100%
    );
}

.hero__content {
    position: absolute;
    bottom: -0.8rem;
    display: flex;
    flex-direction: column;
    padding: clamp(1rem, 4vw, 3rem) clamp(1.5rem, 7vw, 6rem) 0;
    color: #fff;
    max-width: 800px;
}

.hero__eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 600;
    margin: 0 0 1rem;
    font-size: clamp(0.9rem, 2vw, 1.1rem);
}

.hero__title {
    font-size: clamp(3.8rem, 8vw, 6rem);
    margin: 0;
    font-weight: 700;
    letter-spacing: 0.04em;
    line-height: 0.95;
    white-space: nowrap;
}

@media (max-width: 768px) {
    .hero__content {
        bottom: 10rem;
    }

    .hero__title {
        order: -1;
    }
}

/* Mobile adjustments for map and campaign cards */
@media (max-width: 768px) {
    /* Hide the entire map section */
    .hero-section {
        display: none !important;
    }

    /* Stack campaigns in a single column */
    .campaigns-grid {
        grid-template-columns: 1fr !important;
        width: 95% !important; 
        padding: 0 10px;
    }

    /* Change card layout to vertical stack */
    .custom-card, 
    .small-block, 
    .small-block.active {
        flex-direction: column !important;
        height: auto !important; 
        min-height: auto !important;
    }

    /* Content area adjustment */
    .card-content {
        padding: 1.5rem !important;
        width: 100% !important;
    }

    .card-text {
        margin-bottom: 2rem !important;
    }

    /* Image handling - hidden by default for small blocks */
    .small-block .card-image {
        width: 100% !important;
        height: 0;
        min-height: 0;
        flex: none !important;
        opacity: 0;
        transition: height 0.6s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.4s ease;
    }

    /* Image handling - visible when active or regular card */
    .small-block.active .card-image,
    .custom-card:not(.small-block) .card-image {
        height: 250px !important;
        width: 100% !important;
        flex: none !important;
        opacity: 1;
        display: block !important;
    }

    /* Fix potential large card grid placement */
    .custom-card:not(.small-block), .small-block.active {
        grid-column: 1 / -1 !important;
    }
}

/* --- Filters --- */
.campaigns-filter-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 2rem 0 1.5rem 0;
    width: 100%;
}
.filter-bar {
    background: #fff;
    border-radius: 2rem;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    padding: 1.2rem 2.5rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    min-width: 340px;
    max-width: 600px;
    width: 100%;
    animation: fadeIn 0.7s cubic-bezier(.4,1.6,.6,1);
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}
.filter-label {
    color: #007bff;
    font-weight: 700;
    font-size: 1.1rem;
    letter-spacing: 0.02em;
    margin-right: 0.5rem;
}
.filter-select {
    background: #f3f4f6;
    color: #007bff;
    border: none;
    border-radius: 1rem;
    padding: 0.5rem 1.2rem;
    font-size: 1rem;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    transition: box-shadow 0.2s, transform 0.2s;
    outline: none;
}
.filter-select:focus {
    box-shadow: 0 0 0 2px #00b89444;
    transform: scale(1.04);
}
